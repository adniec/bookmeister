<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.8.1" />
<title>bookmeister.gui API documentation</title>
<meta name="description" content="GUI â€¦" />
<link href='https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.0/normalize.min.css' rel='stylesheet'>
<link href='https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/8.0.0/sanitize.min.css' rel='stylesheet'>
<link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" rel="stylesheet">
<style>.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{font-weight:bold}#index h4 + ul{margin-bottom:.6em}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>bookmeister.gui</code></h1>
</header>
<section id="section-intro">
<h4 id="gui">GUI</h4>
<p>Module gathers all functions, classes and methods necessary to create GUI. Its
parts are divided for separate blocks represented by classes <code><a title="bookmeister.gui.Search" href="#bookmeister.gui.Search">Search</a></code>, <code><a title="bookmeister.gui.Form" href="#bookmeister.gui.Form">Form</a></code>,
<code><a title="bookmeister.gui.Buttons" href="#bookmeister.gui.Buttons">Buttons</a></code> and <code><a title="bookmeister.gui.Image" href="#bookmeister.gui.Image">Image</a></code> where each of them extends <code>tkinter.Frame</code>. <code><a title="bookmeister.gui.Searchbox" href="#bookmeister.gui.Searchbox">Searchbox</a></code>
is extended <code>tkinter.Combobox</code> class to application needs. <code><a title="bookmeister.gui.Gui" href="#bookmeister.gui.Gui">Gui</a></code> connects each
part and places them in main window which will be displayed. Modules used:
<code>pathlib</code>, <code>sys</code>, <code>webbrowser</code>, <code>PIL</code> and <code>tkinter</code> with <code>filedialog</code>,
<code>messagebox</code>, <code>ttk</code>.</p>
<h4 id="license">License</h4>
<p>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.</p>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/ethru/bookmeister/blob/a68bce5e5f41236525e9065b8c76a0e68186f1f9/bookmeister/gui.py#L0-L567" class="git-link">Browse git</a>
</summary>
<pre><code class="python">&#34;&#34;&#34;#### GUI

Module gathers all functions, classes and methods necessary to create GUI. Its
parts are divided for separate blocks represented by classes `Search`, `Form`,
`Buttons` and `Image` where each of them extends `tkinter.Frame`. `Searchbox`
is extended `tkinter.Combobox` class to application needs. `Gui` connects each
part and places them in main window which will be displayed. Modules used:
`pathlib`, `sys`, `webbrowser`, `PIL` and `tkinter` with `filedialog`,
`messagebox`, `ttk`.


#### License
THE SOFTWARE IS PROVIDED &#34;AS IS&#34;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
&#34;&#34;&#34;

from pathlib import Path
import sys
import tkinter as tk
from tkinter.filedialog import askopenfile
import tkinter.messagebox as msg
import tkinter.ttk as ttk
import webbrowser

import PIL
import PIL.Image

from bookmeister.connection import Database
from bookmeister.record import FIELDS, Record


def show_no_connection():
    &#34;&#34;&#34;Display error message about connection problem.&#34;&#34;&#34;
    msg.showerror(&#39;Error&#39;, &#39;Could not perform operation. It may be connection &#39;
                           &#39;with database problem. Try again later.&#39;)


def create_label(container, message, row, column):
    &#34;&#34;&#34;Display text in set `tkinter` container.

    Parameters
    ----------
    container : tk.Tk or tk.Frame
        place where label will be bound
    message : str
        text displayed
    row : int
        row used with grid manager (place where label will be displayed)
    column : int
        column used with grid manager (place where label will be displayed)
    &#34;&#34;&#34;
    tk.Label(container, text=message, font=&#39;none 10&#39;).grid(
        row=row, column=column, padx=12, pady=2, sticky=&#39;W&#39;)


class Gui(tk.Tk):
    &#34;&#34;&#34;
    Configure GUI.

    Place individual widgets and allow their communication. Extend `tk.Tk`.

    ...

    Attributes
    ----------
    form : Form
        used for communication with `Form` widget
    search : Search
        used for communication with `Search` widget
    &#34;&#34;&#34;

    def __init__(self, title, size):
        &#34;&#34;&#34;Set window properties and fill it with elements.

        Parameters
        ----------
        title : str
            name of application, displayed on top bar
        size : str
            application size in format &#39;heightxwidth&#39;
        &#34;&#34;&#34;
        super().__init__(className=title)
        self.title(title)
        self.geometry(size)
        self.resizable(False, False)
        self.iconphoto(False, tk.PhotoImage(file=self.get_icon()))
        self.form = Form(self)
        self.form.grid(row=1, column=0)
        self.search = Search(self)
        self.search.grid(row=0, column=0, pady=15)
        Image(self).grid(row=2, column=0, padx=50, sticky=&#39;W&#39;)
        Buttons(self).grid(row=3, column=0, sticky=&#39;E&#39;)

    def show_error(self, message, field=None):
        &#34;&#34;&#34;Display error window.

        When field is specified incorrect form value from that field is
        cleared. Otherwise clear whole form.

        Parameters
        ----------
        message : str
            text displayed in error window
        field : str or None, optional
            name of field where value will be cleared, default None: whole form
        &#34;&#34;&#34;
        if field is None:
            self.form.clear()
        else:
            self.form.variables[field].set(&#39;&#39;)
            message = f&#39;Wrong value for field &#34;{field}&#34;. {message}&#39;
        msg.showerror(&#39;Error&#39;, message)

    @staticmethod
    def get_icon():
        &#34;&#34;&#34;Get icon path.

        According to type of installation pick method to get icon path. It can
        be obtained from module directory or from `_MEIPASS` when application
        is built.

        Returns
        -------
        Path
            `pathlib.Path` object containing information about icon path
        &#34;&#34;&#34;
        directory = getattr(sys, &#39;_MEIPASS&#39;, Path(__file__).parent.absolute())
        icon_path = Path(directory) / &#39;bookmeister.png&#39;
        return icon_path


class Search(tk.Frame):
    &#34;&#34;&#34;
    Create search widget. Extend `tk.Frame`.

    ...

    Attributes
    ----------
    box : Searchbox
        used for communication with `Searchbox`
    &#34;&#34;&#34;

    def __init__(self, menu):
        &#34;&#34;&#34;Create search bar elements.

        Parameters
        ----------
        menu : Gui
            container where `Search` widget will be bound, used to pass `Form`
            variables
        &#34;&#34;&#34;
        super().__init__(menu)
        create_label(self, &#39;Search results:&#39;, 0, 0)
        self.box = Searchbox(self, menu.form.variables)
        self.box.grid(row=0, column=1)


class Searchbox(ttk.Combobox):
    &#34;&#34;&#34;
    Create searchbox. Extend `tk.Combobox`.

    ...

    Attributes
    ----------
    values : dict
        has keys as displayed text in `Searchbox` and values as dictionaries
        holding information about records
    variables : dict
        dictionary storing keys used in `Form` and corresponding to them
        `tk.StringVar`s, modifying its values change text seen in form
    &#34;&#34;&#34;

    def __init__(self, frame, variables):
        &#34;&#34;&#34;Configure searchbox.

        Parameters
        ----------
        frame : Search
            container where `Searchbox` will be bound
        variables : dict
            dictionary with `Form` variables
        &#34;&#34;&#34;
        super().__init__(frame, width=50, state=&#39;readonly&#39;)
        self.values = {}
        self.variables = variables
        self.bind(&#39;&lt;&lt;ComboboxSelected&gt;&gt;&#39;, self.do_on_select)

    def assign_values(self, values):
        &#34;&#34;&#34;Fill searchbox with values.

        Clear previously loaded elements. For each record in passed values
        create text which is placed in searchbox. Store it as key in
        `self.values` dictionary with corresponding it record values
        (dictionary). Then pick first record and fill form with its values.

        Parameters
        ----------
        values : list
            list with database records, their data stored in dictionaries
        &#34;&#34;&#34;
        self.clear()
        try:
            for data in values:
                title = f&#39;{data[&#34;ISBN&#34;]} &#34;{data[&#34;Title&#34;]}&#34; by {data[&#34;Author&#34;]}&#39;
                self.values[title] = data
            self[&#39;values&#39;] = sorted(list(self.values.keys()))
            self.current(0)
            self.do_on_select()
        except (TypeError, tk.TclError):
            msg.showwarning(&#39;No records&#39;,
                            &#39;Could not find any results to set criteria.&#39;)

    def assign_image(self, image):
        &#34;&#34;&#34;Store image data in `self.values`.

        Parameters
        ----------
        image : str
            string representing image id
        &#34;&#34;&#34;
        self.values[ttk.Combobox.get(self)][&#39;Cover&#39;] = image

    def do_on_select(self, *_):
        &#34;&#34;&#34;Fill form with values from selected record.&#34;&#34;&#34;
        for key in self.variables.keys():
            try:
                self.variables[key].set(
                    self.values[ttk.Combobox.get(self)][key])
            except KeyError:  # pragma: no cover
                pass

    def get(self):
        &#34;&#34;&#34;Return record id string when selected or None and display error.&#34;&#34;&#34;
        try:
            return self.values[ttk.Combobox.get(self)][&#39;_id&#39;]
        except KeyError:
            msg.showerror(&#39;Error&#39;, &#39;No record selected. To perform operation &#39;
                                   &#39;please select record first.&#39;)

    def get_image(self):
        &#34;&#34;&#34;Return image id when it exists else None.&#34;&#34;&#34;
        try:
            return self.values[ttk.Combobox.get(self)][&#39;Cover&#39;]
        except KeyError:
            return None

    def clear(self):
        &#34;&#34;&#34;Clear positions from searchbox.&#34;&#34;&#34;
        self.values.clear()
        self.set(&#39;&#39;)
        self[&#39;values&#39;] = []


class Form(tk.Frame):
    &#34;&#34;&#34;
    Create form widget. Extend `tk.Frame`.

    ...

    Attributes
    ----------
    menu : Gui
        used to bind `Form` widget and communication with other menu elements
    variables : dict
        storing `tk.StringVar`s with corresponding them names as keys
    &#34;&#34;&#34;

    def __init__(self, menu):
        &#34;&#34;&#34;Configure form widget.&#34;&#34;&#34;
        super().__init__(menu)
        self.menu = menu
        self.variables = {}
        for place, name in enumerate(FIELDS):
            create_label(self, f&#39;{name}:&#39;, place, 0)
            self.create_entry(name, &#39;&#39;, place, 1)
        tk.Button(self, text=&#39;Clear&#39;, width=4, command=self.clear).grid(
            row=place + 1, column=1, sticky=&#39;NE&#39;)
        self.create_checkbutton(&#39;Hardcover&#39;, place + 1, 0)

    def get(self, silent=False):
        &#34;&#34;&#34;Return dictionary with fields names and their values from form.

        Values are cast to types expected in database. When `silent` is set to
        `False` display error window in case of incorrect field value.

        Parameters
        ----------
        silent : bool, optional
            specifies if error windows are shown or not in case of wrong values
        &#34;&#34;&#34;
        record = Record()
        for key, value in self.variables.items():
            try:
                record[key] = value.get()
            except ValueError as error:
                if not silent:
                    self.menu.show_error(error, key)
        record.cast()
        return record

    def clear(self):
        &#34;&#34;&#34;Clear each variable value and remove records from `Searchbox`.&#34;&#34;&#34;
        self.menu.search.box.clear()
        for variable in self.variables.values():
            try:
                variable.set(&#39;&#39;)
            except tk.TclError:
                variable.set(False)

    def create_checkbutton(self, name, row, column):
        &#34;&#34;&#34;Display checkbutton.

        Bind `tk.Checkbutton` to `Form` frame. Create `tk.BooleanVar` and store
         it in `self.variables`. Display label with set name.

        Parameters
        ----------
        name : str
            text displayed before checkbutton, used as key in `self.variables`
        row : int
            row used with grid manager (place where button will be shown)
        column : int
            column used with grid manager (place where button will be shown)
        &#34;&#34;&#34;
        create_label(self, f&#39;{name}: &#39;, row, column)
        content = tk.BooleanVar(self)
        tk.Checkbutton(self, variable=content).grid(
            row=row, column=column + 1, padx=3, sticky=&#39;W&#39;)
        self.variables[name] = content

    def create_entry(self, name, value, row, column):
        &#34;&#34;&#34;Display entry.

        Bind `tk.Entry` to `Form` frame. Create `tk.StringVar` and store it in
        `self.variables` with key passed in name.

        Parameters
        ----------
        name : str
            used as key in `self.variables`
        value : str
            default value displayed in entry on application startup
        row : int
            row used with grid manager (place where entry will be displayed)
        column : int
            column used with grid manager (place where entry will be displayed)
        &#34;&#34;&#34;
        content = tk.StringVar(self, value=value)
        tk.Entry(self, width=40, textvariable=content).grid(
            row=row, column=column, padx=10, pady=2, sticky=&#39;W&#39;)
        self.variables[name] = content


class Image(tk.Frame):
    &#34;&#34;&#34;
    Create image widget. Extend `tk.Frame`.

    ...

    Attributes
    ----------
    menu : Gui
        used to bind `Image` widget and communication with other menu elements
    &#34;&#34;&#34;

    def __init__(self, menu):
        &#34;&#34;&#34;Create buttons for interaction with images.&#34;&#34;&#34;
        super().__init__(menu)
        self.menu = menu
        tk.Button(self, text=&#39;Add cover&#39;, width=8,
                  command=self.add_image).grid(row=0, column=0, pady=15)
        tk.Button(self, text=&#39;View cover&#39;, width=8,
                  command=self.view_image).grid(row=0, column=1, sticky=&#39;W&#39;)

    def add_image(self):
        &#34;&#34;&#34;Update selected record image in database.

        When record is selected in `Searchbox` open window where user can pick
        image file. Then convert image with `bookmeister.picture` module. If
        it succeed add it to database else display error window.
        &#34;&#34;&#34;
        selected = self.menu.search.box.get()
        if selected:
            path = askopenfile(initialdir=Path.home())
            if path:
                if self.verify(path.name):
                    image_id = Database().upload_image(path.name)
                    if image_id:
                        if Database().update(selected, {&#39;Cover&#39;: image_id}):
                            self.menu.search.box.assign_image(image_id)
                            msg.showinfo(&#39;Done&#39;,
                                         &#39;Image successfully saved.&#39;)
                        else:
                            show_no_connection()
                else:
                    msg.showerror(&#39;Error&#39;, &#39;Wrong image file format.&#39;)

    def view_image(self):
        &#34;&#34;&#34;Display selected record image.

        When record is selected in `Searchbox` open its image in browser. If
        operation failed display error.
        &#34;&#34;&#34;
        if self.menu.search.box.get():
            picture = self.menu.search.box.get_image()
            if picture:
                self.open_image(picture)
            else:
                msg.showerror(&#39;Error&#39;, &#39;There is no image uploaded yet.&#39;)

    @staticmethod
    def open_image(link):
        &#34;&#34;&#34;Open image from database media archive in browser.

        Parameters
        ----------
        link : str
            identification number of image from database media archive
        &#34;&#34;&#34;
        url = Database().url + &#39;/media/&#39; + link
        webbrowser.open(url, new=True)

    @staticmethod
    def verify(path):
        &#34;&#34;&#34;Return True if under set path there is valid image else False.&#34;&#34;&#34;
        try:
            image = PIL.Image.open(path)
            image.verify()
            image.close()
            return True
        except (FileNotFoundError, PIL.UnidentifiedImageError):
            return False


class Buttons(tk.Frame):
    &#34;&#34;&#34;
    Create buttons widget. Extend `tk.Frame`.

    ...

    Attributes
    ----------
    menu : Gui
        used to bind `Buttons` widget and communication with other elements
    &#34;&#34;&#34;

    def __init__(self, menu):
        &#34;&#34;&#34;Create buttons for interaction with database.&#34;&#34;&#34;
        super().__init__(menu)
        self.menu = menu
        positions = (&#39;add&#39;, &#39;search&#39;, &#39;revise&#39;, &#39;delete&#39;)
        for place, name in enumerate(positions):
            tk.Button(self, text=name.capitalize(), width=5,
                      command=getattr(self, name)).grid(row=0, column=place)

    def process_data(self, data, operation, *args):
        &#34;&#34;&#34;Check data and perform passed database operation.

        Check if passed dictionary has all necessary keys. If yes send them
        to database. Then clear `Form`, `Searchbox` and notify about success.
        In case of error display proper message.

        Parameters
        ----------
        data : dict
            contains values collected from form fields
        operation : method
            operation performed on `bookmeister.connection.Database`
        *args
            used to pass record id for update operation
        &#34;&#34;&#34;
        if not set(FIELDS) - (data.keys()):
            if operation(*args, data):
                msg.showinfo(&#39;Done&#39;, &#39;Record successfully saved to database.&#39;)
                self.menu.search.box.clear()
                self.menu.form.clear()
            else:
                show_no_connection()

    def add(self):
        &#34;&#34;&#34;Add record to database.

        Use `Form.get` to collect data. Then check database if record with set
        ISBN number already exists. If not add it. In case of errors display
        notification. If operation succeed information is displayed as well.
        &#34;&#34;&#34;
        data = self.menu.form.get()
        exists = self.exist_check(data.get(&#39;ISBN&#39;, None))
        if exists is None:
            show_no_connection()
        else:
            if exists:
                self.menu.show_error(
                    &#39;Record with set ISBN already exists in database.&#39;)
            else:
                self.process_data(data, Database().add)

    def search(self):
        &#34;&#34;&#34;Search for record matching criteria in database.

        Use `Form.get` to collect values. Silent parameter is set to not
        display notifications about empty fields. Place request results in
        `Searchbox`.
        &#34;&#34;&#34;
        parameters = self.menu.form.get(True)
        if parameters:
            result = Database().search(parameters)
            if result is None:
                show_no_connection()
            else:
                self.menu.search.box.assign_values(result)

    def revise(self):
        &#34;&#34;&#34;Update record in database.

        Use `Form.get` to collect values. Check if record to update is selected
         in `Searchbox` then send data.
        &#34;&#34;&#34;
        data = self.menu.form.get()
        selected = self.menu.search.box.get()
        if selected:
            self.process_data(data, Database().update, selected)

    def delete(self):
        &#34;&#34;&#34;Remove record from database.

        Check if record is selected in `Searchbox` then removes it from
        database. `Form` and `Searchbox` are cleared. Notification about
        success is displayed. In case of errors information is shown as well.
        &#34;&#34;&#34;
        selected = self.menu.search.box.get()
        if selected:
            if Database().delete(selected):
                msg.showinfo(&#39;Done&#39;,
                             &#39;Record successfully removed from database.&#39;)
                self.menu.search.box.clear()
                self.menu.form.clear()
            else:
                show_no_connection()

    @staticmethod
    def exist_check(number):
        &#34;&#34;&#34;Check if record with set ISBN is already in database.

        Parameters
        ----------
        number : str
            string number taken from ISBN field

        Returns
        -------
        list
            with matching result to set number or empty
        None
            in case of connection error with database
        False
            when passed number is empty string
        &#34;&#34;&#34;
        if number:
            return Database().search({&#39;ISBN&#39;: number})
        return False</code></pre>
</details>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="bookmeister.gui.create_label"><code class="name flex">
<span>def <span class="ident">create_label</span></span>(<span>container, message, row, column)</span>
</code></dt>
<dd>
<section class="desc"><p>Display text in set <code>tkinter</code> container.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>container</code></strong> :&ensp;<code>tk.Tk</code> or <code>tk.Frame</code></dt>
<dd>place where label will be bound</dd>
<dt><strong><code>message</code></strong> :&ensp;<code>str</code></dt>
<dd>text displayed</dd>
<dt><strong><code>row</code></strong> :&ensp;<code>int</code></dt>
<dd>row used with grid manager (place where label will be displayed)</dd>
<dt><strong><code>column</code></strong> :&ensp;<code>int</code></dt>
<dd>column used with grid manager (place where label will be displayed)</dd>
</dl></section>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/ethru/bookmeister/blob/a68bce5e5f41236525e9065b8c76a0e68186f1f9/bookmeister/gui.py#L43-L58" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def create_label(container, message, row, column):
    &#34;&#34;&#34;Display text in set `tkinter` container.

    Parameters
    ----------
    container : tk.Tk or tk.Frame
        place where label will be bound
    message : str
        text displayed
    row : int
        row used with grid manager (place where label will be displayed)
    column : int
        column used with grid manager (place where label will be displayed)
    &#34;&#34;&#34;
    tk.Label(container, text=message, font=&#39;none 10&#39;).grid(
        row=row, column=column, padx=12, pady=2, sticky=&#39;W&#39;)</code></pre>
</details>
</dd>
<dt id="bookmeister.gui.show_no_connection"><code class="name flex">
<span>def <span class="ident">show_no_connection</span></span>(<span>)</span>
</code></dt>
<dd>
<section class="desc"><p>Display error message about connection problem.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/ethru/bookmeister/blob/a68bce5e5f41236525e9065b8c76a0e68186f1f9/bookmeister/gui.py#L37-L40" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def show_no_connection():
    &#34;&#34;&#34;Display error message about connection problem.&#34;&#34;&#34;
    msg.showerror(&#39;Error&#39;, &#39;Could not perform operation. It may be connection &#39;
                           &#39;with database problem. Try again later.&#39;)</code></pre>
</details>
</dd>
</dl>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="bookmeister.gui.Buttons"><code class="flex name class">
<span>class <span class="ident">Buttons</span></span>
<span>(</span><span>menu)</span>
</code></dt>
<dd>
<section class="desc"><p>Create buttons widget. Extend <code>tk.Frame</code>.</p>
<p>&hellip;</p>
<h2 id="attributes">Attributes</h2>
<dl>
<dt><strong><code>menu</code></strong> :&ensp;<code><a title="bookmeister.gui.Gui" href="#bookmeister.gui.Gui">Gui</a></code></dt>
<dd>used to bind <code><a title="bookmeister.gui.Buttons" href="#bookmeister.gui.Buttons">Buttons</a></code> widget and communication with other elements</dd>
</dl>
<p>Create buttons for interaction with database.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/ethru/bookmeister/blob/a68bce5e5f41236525e9065b8c76a0e68186f1f9/bookmeister/gui.py#L442-L568" class="git-link">Browse git</a>
</summary>
<pre><code class="python">class Buttons(tk.Frame):
    &#34;&#34;&#34;
    Create buttons widget. Extend `tk.Frame`.

    ...

    Attributes
    ----------
    menu : Gui
        used to bind `Buttons` widget and communication with other elements
    &#34;&#34;&#34;

    def __init__(self, menu):
        &#34;&#34;&#34;Create buttons for interaction with database.&#34;&#34;&#34;
        super().__init__(menu)
        self.menu = menu
        positions = (&#39;add&#39;, &#39;search&#39;, &#39;revise&#39;, &#39;delete&#39;)
        for place, name in enumerate(positions):
            tk.Button(self, text=name.capitalize(), width=5,
                      command=getattr(self, name)).grid(row=0, column=place)

    def process_data(self, data, operation, *args):
        &#34;&#34;&#34;Check data and perform passed database operation.

        Check if passed dictionary has all necessary keys. If yes send them
        to database. Then clear `Form`, `Searchbox` and notify about success.
        In case of error display proper message.

        Parameters
        ----------
        data : dict
            contains values collected from form fields
        operation : method
            operation performed on `bookmeister.connection.Database`
        *args
            used to pass record id for update operation
        &#34;&#34;&#34;
        if not set(FIELDS) - (data.keys()):
            if operation(*args, data):
                msg.showinfo(&#39;Done&#39;, &#39;Record successfully saved to database.&#39;)
                self.menu.search.box.clear()
                self.menu.form.clear()
            else:
                show_no_connection()

    def add(self):
        &#34;&#34;&#34;Add record to database.

        Use `Form.get` to collect data. Then check database if record with set
        ISBN number already exists. If not add it. In case of errors display
        notification. If operation succeed information is displayed as well.
        &#34;&#34;&#34;
        data = self.menu.form.get()
        exists = self.exist_check(data.get(&#39;ISBN&#39;, None))
        if exists is None:
            show_no_connection()
        else:
            if exists:
                self.menu.show_error(
                    &#39;Record with set ISBN already exists in database.&#39;)
            else:
                self.process_data(data, Database().add)

    def search(self):
        &#34;&#34;&#34;Search for record matching criteria in database.

        Use `Form.get` to collect values. Silent parameter is set to not
        display notifications about empty fields. Place request results in
        `Searchbox`.
        &#34;&#34;&#34;
        parameters = self.menu.form.get(True)
        if parameters:
            result = Database().search(parameters)
            if result is None:
                show_no_connection()
            else:
                self.menu.search.box.assign_values(result)

    def revise(self):
        &#34;&#34;&#34;Update record in database.

        Use `Form.get` to collect values. Check if record to update is selected
         in `Searchbox` then send data.
        &#34;&#34;&#34;
        data = self.menu.form.get()
        selected = self.menu.search.box.get()
        if selected:
            self.process_data(data, Database().update, selected)

    def delete(self):
        &#34;&#34;&#34;Remove record from database.

        Check if record is selected in `Searchbox` then removes it from
        database. `Form` and `Searchbox` are cleared. Notification about
        success is displayed. In case of errors information is shown as well.
        &#34;&#34;&#34;
        selected = self.menu.search.box.get()
        if selected:
            if Database().delete(selected):
                msg.showinfo(&#39;Done&#39;,
                             &#39;Record successfully removed from database.&#39;)
                self.menu.search.box.clear()
                self.menu.form.clear()
            else:
                show_no_connection()

    @staticmethod
    def exist_check(number):
        &#34;&#34;&#34;Check if record with set ISBN is already in database.

        Parameters
        ----------
        number : str
            string number taken from ISBN field

        Returns
        -------
        list
            with matching result to set number or empty
        None
            in case of connection error with database
        False
            when passed number is empty string
        &#34;&#34;&#34;
        if number:
            return Database().search({&#39;ISBN&#39;: number})
        return False</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>tkinter.Frame</li>
<li>tkinter.Widget</li>
<li>tkinter.BaseWidget</li>
<li>tkinter.Misc</li>
<li>tkinter.Pack</li>
<li>tkinter.Place</li>
<li>tkinter.Grid</li>
</ul>
<h3>Static methods</h3>
<dl>
<dt id="bookmeister.gui.Buttons.exist_check"><code class="name flex">
<span>def <span class="ident">exist_check</span></span>(<span>number)</span>
</code></dt>
<dd>
<section class="desc"><p>Check if record with set ISBN is already in database.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>number</code></strong> :&ensp;<code>str</code></dt>
<dd>string number taken from ISBN field</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>list</code></dt>
<dd>with matching result to set number or empty</dd>
<dt><code>None</code></dt>
<dd>in case of connection error with database</dd>
<dt><code>False</code></dt>
<dd>when passed number is empty string</dd>
</dl></section>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/ethru/bookmeister/blob/a68bce5e5f41236525e9065b8c76a0e68186f1f9/bookmeister/gui.py#L548-L568" class="git-link">Browse git</a>
</summary>
<pre><code class="python">@staticmethod
def exist_check(number):
    &#34;&#34;&#34;Check if record with set ISBN is already in database.

    Parameters
    ----------
    number : str
        string number taken from ISBN field

    Returns
    -------
    list
        with matching result to set number or empty
    None
        in case of connection error with database
    False
        when passed number is empty string
    &#34;&#34;&#34;
    if number:
        return Database().search({&#39;ISBN&#39;: number})
    return False</code></pre>
</details>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="bookmeister.gui.Buttons.add"><code class="name flex">
<span>def <span class="ident">add</span></span>(<span>self)</span>
</code></dt>
<dd>
<section class="desc"><p>Add record to database.</p>
<p>Use <code><a title="bookmeister.gui.Form.get" href="#bookmeister.gui.Form.get">Form.get()</a></code> to collect data. Then check database if record with set
ISBN number already exists. If not add it. In case of errors display
notification. If operation succeed information is displayed as well.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/ethru/bookmeister/blob/a68bce5e5f41236525e9065b8c76a0e68186f1f9/bookmeister/gui.py#L487-L503" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def add(self):
    &#34;&#34;&#34;Add record to database.

    Use `Form.get` to collect data. Then check database if record with set
    ISBN number already exists. If not add it. In case of errors display
    notification. If operation succeed information is displayed as well.
    &#34;&#34;&#34;
    data = self.menu.form.get()
    exists = self.exist_check(data.get(&#39;ISBN&#39;, None))
    if exists is None:
        show_no_connection()
    else:
        if exists:
            self.menu.show_error(
                &#39;Record with set ISBN already exists in database.&#39;)
        else:
            self.process_data(data, Database().add)</code></pre>
</details>
</dd>
<dt id="bookmeister.gui.Buttons.delete"><code class="name flex">
<span>def <span class="ident">delete</span></span>(<span>self)</span>
</code></dt>
<dd>
<section class="desc"><p>Remove record from database.</p>
<p>Check if record is selected in <code><a title="bookmeister.gui.Searchbox" href="#bookmeister.gui.Searchbox">Searchbox</a></code> then removes it from
database. <code><a title="bookmeister.gui.Form" href="#bookmeister.gui.Form">Form</a></code> and <code><a title="bookmeister.gui.Searchbox" href="#bookmeister.gui.Searchbox">Searchbox</a></code> are cleared. Notification about
success is displayed. In case of errors information is shown as well.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/ethru/bookmeister/blob/a68bce5e5f41236525e9065b8c76a0e68186f1f9/bookmeister/gui.py#L531-L546" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def delete(self):
    &#34;&#34;&#34;Remove record from database.

    Check if record is selected in `Searchbox` then removes it from
    database. `Form` and `Searchbox` are cleared. Notification about
    success is displayed. In case of errors information is shown as well.
    &#34;&#34;&#34;
    selected = self.menu.search.box.get()
    if selected:
        if Database().delete(selected):
            msg.showinfo(&#39;Done&#39;,
                         &#39;Record successfully removed from database.&#39;)
            self.menu.search.box.clear()
            self.menu.form.clear()
        else:
            show_no_connection()</code></pre>
</details>
</dd>
<dt id="bookmeister.gui.Buttons.process_data"><code class="name flex">
<span>def <span class="ident">process_data</span></span>(<span>self, data, operation, *args)</span>
</code></dt>
<dd>
<section class="desc"><p>Check data and perform passed database operation.</p>
<p>Check if passed dictionary has all necessary keys. If yes send them
to database. Then clear <code><a title="bookmeister.gui.Form" href="#bookmeister.gui.Form">Form</a></code>, <code><a title="bookmeister.gui.Searchbox" href="#bookmeister.gui.Searchbox">Searchbox</a></code> and notify about success.
In case of error display proper message.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>data</code></strong> :&ensp;<code>dict</code></dt>
<dd>contains values collected from form fields</dd>
<dt><strong><code>operation</code></strong> :&ensp;<code>method</code></dt>
<dd>operation performed on <code><a title="bookmeister.connection.Database" href="connection.html#bookmeister.connection.Database">Database</a></code></dd>
<dt><strong><code>*args</code></strong></dt>
<dd>used to pass record id for update operation</dd>
</dl></section>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/ethru/bookmeister/blob/a68bce5e5f41236525e9065b8c76a0e68186f1f9/bookmeister/gui.py#L463-L485" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def process_data(self, data, operation, *args):
    &#34;&#34;&#34;Check data and perform passed database operation.

    Check if passed dictionary has all necessary keys. If yes send them
    to database. Then clear `Form`, `Searchbox` and notify about success.
    In case of error display proper message.

    Parameters
    ----------
    data : dict
        contains values collected from form fields
    operation : method
        operation performed on `bookmeister.connection.Database`
    *args
        used to pass record id for update operation
    &#34;&#34;&#34;
    if not set(FIELDS) - (data.keys()):
        if operation(*args, data):
            msg.showinfo(&#39;Done&#39;, &#39;Record successfully saved to database.&#39;)
            self.menu.search.box.clear()
            self.menu.form.clear()
        else:
            show_no_connection()</code></pre>
</details>
</dd>
<dt id="bookmeister.gui.Buttons.revise"><code class="name flex">
<span>def <span class="ident">revise</span></span>(<span>self)</span>
</code></dt>
<dd>
<section class="desc"><p>Update record in database.</p>
<p>Use <code><a title="bookmeister.gui.Form.get" href="#bookmeister.gui.Form.get">Form.get()</a></code> to collect values. Check if record to update is selected
in <code><a title="bookmeister.gui.Searchbox" href="#bookmeister.gui.Searchbox">Searchbox</a></code> then send data.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/ethru/bookmeister/blob/a68bce5e5f41236525e9065b8c76a0e68186f1f9/bookmeister/gui.py#L520-L529" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def revise(self):
    &#34;&#34;&#34;Update record in database.

    Use `Form.get` to collect values. Check if record to update is selected
     in `Searchbox` then send data.
    &#34;&#34;&#34;
    data = self.menu.form.get()
    selected = self.menu.search.box.get()
    if selected:
        self.process_data(data, Database().update, selected)</code></pre>
</details>
</dd>
<dt id="bookmeister.gui.Buttons.search"><code class="name flex">
<span>def <span class="ident">search</span></span>(<span>self)</span>
</code></dt>
<dd>
<section class="desc"><p>Search for record matching criteria in database.</p>
<p>Use <code><a title="bookmeister.gui.Form.get" href="#bookmeister.gui.Form.get">Form.get()</a></code> to collect values. Silent parameter is set to not
display notifications about empty fields. Place request results in
<code><a title="bookmeister.gui.Searchbox" href="#bookmeister.gui.Searchbox">Searchbox</a></code>.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/ethru/bookmeister/blob/a68bce5e5f41236525e9065b8c76a0e68186f1f9/bookmeister/gui.py#L505-L518" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def search(self):
    &#34;&#34;&#34;Search for record matching criteria in database.

    Use `Form.get` to collect values. Silent parameter is set to not
    display notifications about empty fields. Place request results in
    `Searchbox`.
    &#34;&#34;&#34;
    parameters = self.menu.form.get(True)
    if parameters:
        result = Database().search(parameters)
        if result is None:
            show_no_connection()
        else:
            self.menu.search.box.assign_values(result)</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="bookmeister.gui.Form"><code class="flex name class">
<span>class <span class="ident">Form</span></span>
<span>(</span><span>menu)</span>
</code></dt>
<dd>
<section class="desc"><p>Create form widget. Extend <code>tk.Frame</code>.</p>
<p>&hellip;</p>
<h2 id="attributes">Attributes</h2>
<dl>
<dt><strong><code>menu</code></strong> :&ensp;<code><a title="bookmeister.gui.Gui" href="#bookmeister.gui.Gui">Gui</a></code></dt>
<dd>used to bind <code><a title="bookmeister.gui.Form" href="#bookmeister.gui.Form">Form</a></code> widget and communication with other menu elements</dd>
<dt><strong><code>variables</code></strong> :&ensp;<code>dict</code></dt>
<dd>storing <code>tk.StringVar</code>s with corresponding them names as keys</dd>
</dl>
<p>Configure form widget.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/ethru/bookmeister/blob/a68bce5e5f41236525e9065b8c76a0e68186f1f9/bookmeister/gui.py#L261-L358" class="git-link">Browse git</a>
</summary>
<pre><code class="python">class Form(tk.Frame):
    &#34;&#34;&#34;
    Create form widget. Extend `tk.Frame`.

    ...

    Attributes
    ----------
    menu : Gui
        used to bind `Form` widget and communication with other menu elements
    variables : dict
        storing `tk.StringVar`s with corresponding them names as keys
    &#34;&#34;&#34;

    def __init__(self, menu):
        &#34;&#34;&#34;Configure form widget.&#34;&#34;&#34;
        super().__init__(menu)
        self.menu = menu
        self.variables = {}
        for place, name in enumerate(FIELDS):
            create_label(self, f&#39;{name}:&#39;, place, 0)
            self.create_entry(name, &#39;&#39;, place, 1)
        tk.Button(self, text=&#39;Clear&#39;, width=4, command=self.clear).grid(
            row=place + 1, column=1, sticky=&#39;NE&#39;)
        self.create_checkbutton(&#39;Hardcover&#39;, place + 1, 0)

    def get(self, silent=False):
        &#34;&#34;&#34;Return dictionary with fields names and their values from form.

        Values are cast to types expected in database. When `silent` is set to
        `False` display error window in case of incorrect field value.

        Parameters
        ----------
        silent : bool, optional
            specifies if error windows are shown or not in case of wrong values
        &#34;&#34;&#34;
        record = Record()
        for key, value in self.variables.items():
            try:
                record[key] = value.get()
            except ValueError as error:
                if not silent:
                    self.menu.show_error(error, key)
        record.cast()
        return record

    def clear(self):
        &#34;&#34;&#34;Clear each variable value and remove records from `Searchbox`.&#34;&#34;&#34;
        self.menu.search.box.clear()
        for variable in self.variables.values():
            try:
                variable.set(&#39;&#39;)
            except tk.TclError:
                variable.set(False)

    def create_checkbutton(self, name, row, column):
        &#34;&#34;&#34;Display checkbutton.

        Bind `tk.Checkbutton` to `Form` frame. Create `tk.BooleanVar` and store
         it in `self.variables`. Display label with set name.

        Parameters
        ----------
        name : str
            text displayed before checkbutton, used as key in `self.variables`
        row : int
            row used with grid manager (place where button will be shown)
        column : int
            column used with grid manager (place where button will be shown)
        &#34;&#34;&#34;
        create_label(self, f&#39;{name}: &#39;, row, column)
        content = tk.BooleanVar(self)
        tk.Checkbutton(self, variable=content).grid(
            row=row, column=column + 1, padx=3, sticky=&#39;W&#39;)
        self.variables[name] = content

    def create_entry(self, name, value, row, column):
        &#34;&#34;&#34;Display entry.

        Bind `tk.Entry` to `Form` frame. Create `tk.StringVar` and store it in
        `self.variables` with key passed in name.

        Parameters
        ----------
        name : str
            used as key in `self.variables`
        value : str
            default value displayed in entry on application startup
        row : int
            row used with grid manager (place where entry will be displayed)
        column : int
            column used with grid manager (place where entry will be displayed)
        &#34;&#34;&#34;
        content = tk.StringVar(self, value=value)
        tk.Entry(self, width=40, textvariable=content).grid(
            row=row, column=column, padx=10, pady=2, sticky=&#39;W&#39;)
        self.variables[name] = content</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>tkinter.Frame</li>
<li>tkinter.Widget</li>
<li>tkinter.BaseWidget</li>
<li>tkinter.Misc</li>
<li>tkinter.Pack</li>
<li>tkinter.Place</li>
<li>tkinter.Grid</li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="bookmeister.gui.Form.clear"><code class="name flex">
<span>def <span class="ident">clear</span></span>(<span>self)</span>
</code></dt>
<dd>
<section class="desc"><p>Clear each variable value and remove records from <code><a title="bookmeister.gui.Searchbox" href="#bookmeister.gui.Searchbox">Searchbox</a></code>.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/ethru/bookmeister/blob/a68bce5e5f41236525e9065b8c76a0e68186f1f9/bookmeister/gui.py#L308-L315" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def clear(self):
    &#34;&#34;&#34;Clear each variable value and remove records from `Searchbox`.&#34;&#34;&#34;
    self.menu.search.box.clear()
    for variable in self.variables.values():
        try:
            variable.set(&#39;&#39;)
        except tk.TclError:
            variable.set(False)</code></pre>
</details>
</dd>
<dt id="bookmeister.gui.Form.create_checkbutton"><code class="name flex">
<span>def <span class="ident">create_checkbutton</span></span>(<span>self, name, row, column)</span>
</code></dt>
<dd>
<section class="desc"><p>Display checkbutton.</p>
<p>Bind <code>tk.Checkbutton</code> to <code><a title="bookmeister.gui.Form" href="#bookmeister.gui.Form">Form</a></code> frame. Create <code>tk.BooleanVar</code> and store
it in <code>self.variables</code>. Display label with set name.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>name</code></strong> :&ensp;<code>str</code></dt>
<dd>text displayed before checkbutton, used as key in <code>self.variables</code></dd>
<dt><strong><code>row</code></strong> :&ensp;<code>int</code></dt>
<dd>row used with grid manager (place where button will be shown)</dd>
<dt><strong><code>column</code></strong> :&ensp;<code>int</code></dt>
<dd>column used with grid manager (place where button will be shown)</dd>
</dl></section>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/ethru/bookmeister/blob/a68bce5e5f41236525e9065b8c76a0e68186f1f9/bookmeister/gui.py#L317-L336" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def create_checkbutton(self, name, row, column):
    &#34;&#34;&#34;Display checkbutton.

    Bind `tk.Checkbutton` to `Form` frame. Create `tk.BooleanVar` and store
     it in `self.variables`. Display label with set name.

    Parameters
    ----------
    name : str
        text displayed before checkbutton, used as key in `self.variables`
    row : int
        row used with grid manager (place where button will be shown)
    column : int
        column used with grid manager (place where button will be shown)
    &#34;&#34;&#34;
    create_label(self, f&#39;{name}: &#39;, row, column)
    content = tk.BooleanVar(self)
    tk.Checkbutton(self, variable=content).grid(
        row=row, column=column + 1, padx=3, sticky=&#39;W&#39;)
    self.variables[name] = content</code></pre>
</details>
</dd>
<dt id="bookmeister.gui.Form.create_entry"><code class="name flex">
<span>def <span class="ident">create_entry</span></span>(<span>self, name, value, row, column)</span>
</code></dt>
<dd>
<section class="desc"><p>Display entry.</p>
<p>Bind <code>tk.Entry</code> to <code><a title="bookmeister.gui.Form" href="#bookmeister.gui.Form">Form</a></code> frame. Create <code>tk.StringVar</code> and store it in
<code>self.variables</code> with key passed in name.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>name</code></strong> :&ensp;<code>str</code></dt>
<dd>used as key in <code>self.variables</code></dd>
<dt><strong><code>value</code></strong> :&ensp;<code>str</code></dt>
<dd>default value displayed in entry on application startup</dd>
<dt><strong><code>row</code></strong> :&ensp;<code>int</code></dt>
<dd>row used with grid manager (place where entry will be displayed)</dd>
<dt><strong><code>column</code></strong> :&ensp;<code>int</code></dt>
<dd>column used with grid manager (place where entry will be displayed)</dd>
</dl></section>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/ethru/bookmeister/blob/a68bce5e5f41236525e9065b8c76a0e68186f1f9/bookmeister/gui.py#L338-L358" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def create_entry(self, name, value, row, column):
    &#34;&#34;&#34;Display entry.

    Bind `tk.Entry` to `Form` frame. Create `tk.StringVar` and store it in
    `self.variables` with key passed in name.

    Parameters
    ----------
    name : str
        used as key in `self.variables`
    value : str
        default value displayed in entry on application startup
    row : int
        row used with grid manager (place where entry will be displayed)
    column : int
        column used with grid manager (place where entry will be displayed)
    &#34;&#34;&#34;
    content = tk.StringVar(self, value=value)
    tk.Entry(self, width=40, textvariable=content).grid(
        row=row, column=column, padx=10, pady=2, sticky=&#39;W&#39;)
    self.variables[name] = content</code></pre>
</details>
</dd>
<dt id="bookmeister.gui.Form.get"><code class="name flex">
<span>def <span class="ident">get</span></span>(<span>self, silent=False)</span>
</code></dt>
<dd>
<section class="desc"><p>Return dictionary with fields names and their values from form.</p>
<p>Values are cast to types expected in database. When <code>silent</code> is set to
<code>False</code> display error window in case of incorrect field value.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>silent</code></strong> :&ensp;<code>bool</code>, optional</dt>
<dd>specifies if error windows are shown or not in case of wrong values</dd>
</dl></section>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/ethru/bookmeister/blob/a68bce5e5f41236525e9065b8c76a0e68186f1f9/bookmeister/gui.py#L287-L306" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def get(self, silent=False):
    &#34;&#34;&#34;Return dictionary with fields names and their values from form.

    Values are cast to types expected in database. When `silent` is set to
    `False` display error window in case of incorrect field value.

    Parameters
    ----------
    silent : bool, optional
        specifies if error windows are shown or not in case of wrong values
    &#34;&#34;&#34;
    record = Record()
    for key, value in self.variables.items():
        try:
            record[key] = value.get()
        except ValueError as error:
            if not silent:
                self.menu.show_error(error, key)
    record.cast()
    return record</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="bookmeister.gui.Gui"><code class="flex name class">
<span>class <span class="ident">Gui</span></span>
<span>(</span><span>title, size)</span>
</code></dt>
<dd>
<section class="desc"><p>Configure GUI.</p>
<p>Place individual widgets and allow their communication. Extend <code>tk.Tk</code>.</p>
<p>&hellip;</p>
<h2 id="attributes">Attributes</h2>
<dl>
<dt><strong><code>form</code></strong> :&ensp;<code><a title="bookmeister.gui.Form" href="#bookmeister.gui.Form">Form</a></code></dt>
<dd>used for communication with <code><a title="bookmeister.gui.Form" href="#bookmeister.gui.Form">Form</a></code> widget</dd>
<dt><strong><code>search</code></strong> :&ensp;<code><a title="bookmeister.gui.Search" href="#bookmeister.gui.Search">Search</a></code></dt>
<dd>used for communication with <code><a title="bookmeister.gui.Search" href="#bookmeister.gui.Search">Search</a></code> widget</dd>
</dl>
<p>Set window properties and fill it with elements.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>title</code></strong> :&ensp;<code>str</code></dt>
<dd>name of application, displayed on top bar</dd>
<dt><strong><code>size</code></strong> :&ensp;<code>str</code></dt>
<dd>application size in format 'heightxwidth'</dd>
</dl></section>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/ethru/bookmeister/blob/a68bce5e5f41236525e9065b8c76a0e68186f1f9/bookmeister/gui.py#L61-L134" class="git-link">Browse git</a>
</summary>
<pre><code class="python">class Gui(tk.Tk):
    &#34;&#34;&#34;
    Configure GUI.

    Place individual widgets and allow their communication. Extend `tk.Tk`.

    ...

    Attributes
    ----------
    form : Form
        used for communication with `Form` widget
    search : Search
        used for communication with `Search` widget
    &#34;&#34;&#34;

    def __init__(self, title, size):
        &#34;&#34;&#34;Set window properties and fill it with elements.

        Parameters
        ----------
        title : str
            name of application, displayed on top bar
        size : str
            application size in format &#39;heightxwidth&#39;
        &#34;&#34;&#34;
        super().__init__(className=title)
        self.title(title)
        self.geometry(size)
        self.resizable(False, False)
        self.iconphoto(False, tk.PhotoImage(file=self.get_icon()))
        self.form = Form(self)
        self.form.grid(row=1, column=0)
        self.search = Search(self)
        self.search.grid(row=0, column=0, pady=15)
        Image(self).grid(row=2, column=0, padx=50, sticky=&#39;W&#39;)
        Buttons(self).grid(row=3, column=0, sticky=&#39;E&#39;)

    def show_error(self, message, field=None):
        &#34;&#34;&#34;Display error window.

        When field is specified incorrect form value from that field is
        cleared. Otherwise clear whole form.

        Parameters
        ----------
        message : str
            text displayed in error window
        field : str or None, optional
            name of field where value will be cleared, default None: whole form
        &#34;&#34;&#34;
        if field is None:
            self.form.clear()
        else:
            self.form.variables[field].set(&#39;&#39;)
            message = f&#39;Wrong value for field &#34;{field}&#34;. {message}&#39;
        msg.showerror(&#39;Error&#39;, message)

    @staticmethod
    def get_icon():
        &#34;&#34;&#34;Get icon path.

        According to type of installation pick method to get icon path. It can
        be obtained from module directory or from `_MEIPASS` when application
        is built.

        Returns
        -------
        Path
            `pathlib.Path` object containing information about icon path
        &#34;&#34;&#34;
        directory = getattr(sys, &#39;_MEIPASS&#39;, Path(__file__).parent.absolute())
        icon_path = Path(directory) / &#39;bookmeister.png&#39;
        return icon_path</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>tkinter.Tk</li>
<li>tkinter.Misc</li>
<li>tkinter.Wm</li>
</ul>
<h3>Static methods</h3>
<dl>
<dt id="bookmeister.gui.Gui.get_icon"><code class="name flex">
<span>def <span class="ident">get_icon</span></span>(<span>)</span>
</code></dt>
<dd>
<section class="desc"><p>Get icon path.</p>
<p>According to type of installation pick method to get icon path. It can
be obtained from module directory or from <code>_MEIPASS</code> when application
is built.</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>Path</code></dt>
<dd><code>pathlib.Path</code> object containing information about icon path</dd>
</dl></section>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/ethru/bookmeister/blob/a68bce5e5f41236525e9065b8c76a0e68186f1f9/bookmeister/gui.py#L119-L134" class="git-link">Browse git</a>
</summary>
<pre><code class="python">@staticmethod
def get_icon():
    &#34;&#34;&#34;Get icon path.

    According to type of installation pick method to get icon path. It can
    be obtained from module directory or from `_MEIPASS` when application
    is built.

    Returns
    -------
    Path
        `pathlib.Path` object containing information about icon path
    &#34;&#34;&#34;
    directory = getattr(sys, &#39;_MEIPASS&#39;, Path(__file__).parent.absolute())
    icon_path = Path(directory) / &#39;bookmeister.png&#39;
    return icon_path</code></pre>
</details>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="bookmeister.gui.Gui.show_error"><code class="name flex">
<span>def <span class="ident">show_error</span></span>(<span>self, message, field=None)</span>
</code></dt>
<dd>
<section class="desc"><p>Display error window.</p>
<p>When field is specified incorrect form value from that field is
cleared. Otherwise clear whole form.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>message</code></strong> :&ensp;<code>str</code></dt>
<dd>text displayed in error window</dd>
<dt><strong><code>field</code></strong> :&ensp;<code>str</code> or <code>None</code>, optional</dt>
<dd>name of field where value will be cleared, default None: whole form</dd>
</dl></section>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/ethru/bookmeister/blob/a68bce5e5f41236525e9065b8c76a0e68186f1f9/bookmeister/gui.py#L99-L117" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def show_error(self, message, field=None):
    &#34;&#34;&#34;Display error window.

    When field is specified incorrect form value from that field is
    cleared. Otherwise clear whole form.

    Parameters
    ----------
    message : str
        text displayed in error window
    field : str or None, optional
        name of field where value will be cleared, default None: whole form
    &#34;&#34;&#34;
    if field is None:
        self.form.clear()
    else:
        self.form.variables[field].set(&#39;&#39;)
        message = f&#39;Wrong value for field &#34;{field}&#34;. {message}&#39;
    msg.showerror(&#39;Error&#39;, message)</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="bookmeister.gui.Image"><code class="flex name class">
<span>class <span class="ident">Image</span></span>
<span>(</span><span>menu)</span>
</code></dt>
<dd>
<section class="desc"><p>Create image widget. Extend <code>tk.Frame</code>.</p>
<p>&hellip;</p>
<h2 id="attributes">Attributes</h2>
<dl>
<dt><strong><code>menu</code></strong> :&ensp;<code><a title="bookmeister.gui.Gui" href="#bookmeister.gui.Gui">Gui</a></code></dt>
<dd>used to bind <code><a title="bookmeister.gui.Image" href="#bookmeister.gui.Image">Image</a></code> widget and communication with other menu elements</dd>
</dl>
<p>Create buttons for interaction with images.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/ethru/bookmeister/blob/a68bce5e5f41236525e9065b8c76a0e68186f1f9/bookmeister/gui.py#L361-L439" class="git-link">Browse git</a>
</summary>
<pre><code class="python">class Image(tk.Frame):
    &#34;&#34;&#34;
    Create image widget. Extend `tk.Frame`.

    ...

    Attributes
    ----------
    menu : Gui
        used to bind `Image` widget and communication with other menu elements
    &#34;&#34;&#34;

    def __init__(self, menu):
        &#34;&#34;&#34;Create buttons for interaction with images.&#34;&#34;&#34;
        super().__init__(menu)
        self.menu = menu
        tk.Button(self, text=&#39;Add cover&#39;, width=8,
                  command=self.add_image).grid(row=0, column=0, pady=15)
        tk.Button(self, text=&#39;View cover&#39;, width=8,
                  command=self.view_image).grid(row=0, column=1, sticky=&#39;W&#39;)

    def add_image(self):
        &#34;&#34;&#34;Update selected record image in database.

        When record is selected in `Searchbox` open window where user can pick
        image file. Then convert image with `bookmeister.picture` module. If
        it succeed add it to database else display error window.
        &#34;&#34;&#34;
        selected = self.menu.search.box.get()
        if selected:
            path = askopenfile(initialdir=Path.home())
            if path:
                if self.verify(path.name):
                    image_id = Database().upload_image(path.name)
                    if image_id:
                        if Database().update(selected, {&#39;Cover&#39;: image_id}):
                            self.menu.search.box.assign_image(image_id)
                            msg.showinfo(&#39;Done&#39;,
                                         &#39;Image successfully saved.&#39;)
                        else:
                            show_no_connection()
                else:
                    msg.showerror(&#39;Error&#39;, &#39;Wrong image file format.&#39;)

    def view_image(self):
        &#34;&#34;&#34;Display selected record image.

        When record is selected in `Searchbox` open its image in browser. If
        operation failed display error.
        &#34;&#34;&#34;
        if self.menu.search.box.get():
            picture = self.menu.search.box.get_image()
            if picture:
                self.open_image(picture)
            else:
                msg.showerror(&#39;Error&#39;, &#39;There is no image uploaded yet.&#39;)

    @staticmethod
    def open_image(link):
        &#34;&#34;&#34;Open image from database media archive in browser.

        Parameters
        ----------
        link : str
            identification number of image from database media archive
        &#34;&#34;&#34;
        url = Database().url + &#39;/media/&#39; + link
        webbrowser.open(url, new=True)

    @staticmethod
    def verify(path):
        &#34;&#34;&#34;Return True if under set path there is valid image else False.&#34;&#34;&#34;
        try:
            image = PIL.Image.open(path)
            image.verify()
            image.close()
            return True
        except (FileNotFoundError, PIL.UnidentifiedImageError):
            return False</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>tkinter.Frame</li>
<li>tkinter.Widget</li>
<li>tkinter.BaseWidget</li>
<li>tkinter.Misc</li>
<li>tkinter.Pack</li>
<li>tkinter.Place</li>
<li>tkinter.Grid</li>
</ul>
<h3>Static methods</h3>
<dl>
<dt id="bookmeister.gui.Image.open_image"><code class="name flex">
<span>def <span class="ident">open_image</span></span>(<span>link)</span>
</code></dt>
<dd>
<section class="desc"><p>Open image from database media archive in browser.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>link</code></strong> :&ensp;<code>str</code></dt>
<dd>identification number of image from database media archive</dd>
</dl></section>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/ethru/bookmeister/blob/a68bce5e5f41236525e9065b8c76a0e68186f1f9/bookmeister/gui.py#L418-L428" class="git-link">Browse git</a>
</summary>
<pre><code class="python">@staticmethod
def open_image(link):
    &#34;&#34;&#34;Open image from database media archive in browser.

    Parameters
    ----------
    link : str
        identification number of image from database media archive
    &#34;&#34;&#34;
    url = Database().url + &#39;/media/&#39; + link
    webbrowser.open(url, new=True)</code></pre>
</details>
</dd>
<dt id="bookmeister.gui.Image.verify"><code class="name flex">
<span>def <span class="ident">verify</span></span>(<span>path)</span>
</code></dt>
<dd>
<section class="desc"><p>Return True if under set path there is valid image else False.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/ethru/bookmeister/blob/a68bce5e5f41236525e9065b8c76a0e68186f1f9/bookmeister/gui.py#L430-L439" class="git-link">Browse git</a>
</summary>
<pre><code class="python">@staticmethod
def verify(path):
    &#34;&#34;&#34;Return True if under set path there is valid image else False.&#34;&#34;&#34;
    try:
        image = PIL.Image.open(path)
        image.verify()
        image.close()
        return True
    except (FileNotFoundError, PIL.UnidentifiedImageError):
        return False</code></pre>
</details>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="bookmeister.gui.Image.add_image"><code class="name flex">
<span>def <span class="ident">add_image</span></span>(<span>self)</span>
</code></dt>
<dd>
<section class="desc"><p>Update selected record image in database.</p>
<p>When record is selected in <code><a title="bookmeister.gui.Searchbox" href="#bookmeister.gui.Searchbox">Searchbox</a></code> open window where user can pick
image file. Then convert image with <code>bookmeister.picture</code> module. If
it succeed add it to database else display error window.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/ethru/bookmeister/blob/a68bce5e5f41236525e9065b8c76a0e68186f1f9/bookmeister/gui.py#L382-L403" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def add_image(self):
    &#34;&#34;&#34;Update selected record image in database.

    When record is selected in `Searchbox` open window where user can pick
    image file. Then convert image with `bookmeister.picture` module. If
    it succeed add it to database else display error window.
    &#34;&#34;&#34;
    selected = self.menu.search.box.get()
    if selected:
        path = askopenfile(initialdir=Path.home())
        if path:
            if self.verify(path.name):
                image_id = Database().upload_image(path.name)
                if image_id:
                    if Database().update(selected, {&#39;Cover&#39;: image_id}):
                        self.menu.search.box.assign_image(image_id)
                        msg.showinfo(&#39;Done&#39;,
                                     &#39;Image successfully saved.&#39;)
                    else:
                        show_no_connection()
            else:
                msg.showerror(&#39;Error&#39;, &#39;Wrong image file format.&#39;)</code></pre>
</details>
</dd>
<dt id="bookmeister.gui.Image.view_image"><code class="name flex">
<span>def <span class="ident">view_image</span></span>(<span>self)</span>
</code></dt>
<dd>
<section class="desc"><p>Display selected record image.</p>
<p>When record is selected in <code><a title="bookmeister.gui.Searchbox" href="#bookmeister.gui.Searchbox">Searchbox</a></code> open its image in browser. If
operation failed display error.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/ethru/bookmeister/blob/a68bce5e5f41236525e9065b8c76a0e68186f1f9/bookmeister/gui.py#L405-L416" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def view_image(self):
    &#34;&#34;&#34;Display selected record image.

    When record is selected in `Searchbox` open its image in browser. If
    operation failed display error.
    &#34;&#34;&#34;
    if self.menu.search.box.get():
        picture = self.menu.search.box.get_image()
        if picture:
            self.open_image(picture)
        else:
            msg.showerror(&#39;Error&#39;, &#39;There is no image uploaded yet.&#39;)</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="bookmeister.gui.Search"><code class="flex name class">
<span>class <span class="ident">Search</span></span>
<span>(</span><span>menu)</span>
</code></dt>
<dd>
<section class="desc"><p>Create search widget. Extend <code>tk.Frame</code>.</p>
<p>&hellip;</p>
<h2 id="attributes">Attributes</h2>
<dl>
<dt><strong><code>box</code></strong> :&ensp;<code><a title="bookmeister.gui.Searchbox" href="#bookmeister.gui.Searchbox">Searchbox</a></code></dt>
<dd>used for communication with <code><a title="bookmeister.gui.Searchbox" href="#bookmeister.gui.Searchbox">Searchbox</a></code></dd>
</dl>
<p>Create search bar elements.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>menu</code></strong> :&ensp;<code><a title="bookmeister.gui.Gui" href="#bookmeister.gui.Gui">Gui</a></code></dt>
<dd>container where <code><a title="bookmeister.gui.Search" href="#bookmeister.gui.Search">Search</a></code> widget will be bound, used to pass <code><a title="bookmeister.gui.Form" href="#bookmeister.gui.Form">Form</a></code>
variables</dd>
</dl></section>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/ethru/bookmeister/blob/a68bce5e5f41236525e9065b8c76a0e68186f1f9/bookmeister/gui.py#L137-L161" class="git-link">Browse git</a>
</summary>
<pre><code class="python">class Search(tk.Frame):
    &#34;&#34;&#34;
    Create search widget. Extend `tk.Frame`.

    ...

    Attributes
    ----------
    box : Searchbox
        used for communication with `Searchbox`
    &#34;&#34;&#34;

    def __init__(self, menu):
        &#34;&#34;&#34;Create search bar elements.

        Parameters
        ----------
        menu : Gui
            container where `Search` widget will be bound, used to pass `Form`
            variables
        &#34;&#34;&#34;
        super().__init__(menu)
        create_label(self, &#39;Search results:&#39;, 0, 0)
        self.box = Searchbox(self, menu.form.variables)
        self.box.grid(row=0, column=1)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>tkinter.Frame</li>
<li>tkinter.Widget</li>
<li>tkinter.BaseWidget</li>
<li>tkinter.Misc</li>
<li>tkinter.Pack</li>
<li>tkinter.Place</li>
<li>tkinter.Grid</li>
</ul>
</dd>
<dt id="bookmeister.gui.Searchbox"><code class="flex name class">
<span>class <span class="ident">Searchbox</span></span>
<span>(</span><span>frame, variables)</span>
</code></dt>
<dd>
<section class="desc"><p>Create searchbox. Extend <code>tk.Combobox</code>.</p>
<p>&hellip;</p>
<h2 id="attributes">Attributes</h2>
<dl>
<dt><strong><code>values</code></strong> :&ensp;<code>dict</code></dt>
<dd>has keys as displayed text in <code><a title="bookmeister.gui.Searchbox" href="#bookmeister.gui.Searchbox">Searchbox</a></code> and values as dictionaries
holding information about records</dd>
<dt><strong><code>variables</code></strong> :&ensp;<code>dict</code></dt>
<dd>dictionary storing keys used in <code><a title="bookmeister.gui.Form" href="#bookmeister.gui.Form">Form</a></code> and corresponding to them
<code>tk.StringVar</code>s, modifying its values change text seen in form</dd>
</dl>
<p>Configure searchbox.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>frame</code></strong> :&ensp;<code><a title="bookmeister.gui.Search" href="#bookmeister.gui.Search">Search</a></code></dt>
<dd>container where <code><a title="bookmeister.gui.Searchbox" href="#bookmeister.gui.Searchbox">Searchbox</a></code> will be bound</dd>
<dt><strong><code>variables</code></strong> :&ensp;<code>dict</code></dt>
<dd>dictionary with <code><a title="bookmeister.gui.Form" href="#bookmeister.gui.Form">Form</a></code> variables</dd>
</dl></section>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/ethru/bookmeister/blob/a68bce5e5f41236525e9065b8c76a0e68186f1f9/bookmeister/gui.py#L164-L258" class="git-link">Browse git</a>
</summary>
<pre><code class="python">class Searchbox(ttk.Combobox):
    &#34;&#34;&#34;
    Create searchbox. Extend `tk.Combobox`.

    ...

    Attributes
    ----------
    values : dict
        has keys as displayed text in `Searchbox` and values as dictionaries
        holding information about records
    variables : dict
        dictionary storing keys used in `Form` and corresponding to them
        `tk.StringVar`s, modifying its values change text seen in form
    &#34;&#34;&#34;

    def __init__(self, frame, variables):
        &#34;&#34;&#34;Configure searchbox.

        Parameters
        ----------
        frame : Search
            container where `Searchbox` will be bound
        variables : dict
            dictionary with `Form` variables
        &#34;&#34;&#34;
        super().__init__(frame, width=50, state=&#39;readonly&#39;)
        self.values = {}
        self.variables = variables
        self.bind(&#39;&lt;&lt;ComboboxSelected&gt;&gt;&#39;, self.do_on_select)

    def assign_values(self, values):
        &#34;&#34;&#34;Fill searchbox with values.

        Clear previously loaded elements. For each record in passed values
        create text which is placed in searchbox. Store it as key in
        `self.values` dictionary with corresponding it record values
        (dictionary). Then pick first record and fill form with its values.

        Parameters
        ----------
        values : list
            list with database records, their data stored in dictionaries
        &#34;&#34;&#34;
        self.clear()
        try:
            for data in values:
                title = f&#39;{data[&#34;ISBN&#34;]} &#34;{data[&#34;Title&#34;]}&#34; by {data[&#34;Author&#34;]}&#39;
                self.values[title] = data
            self[&#39;values&#39;] = sorted(list(self.values.keys()))
            self.current(0)
            self.do_on_select()
        except (TypeError, tk.TclError):
            msg.showwarning(&#39;No records&#39;,
                            &#39;Could not find any results to set criteria.&#39;)

    def assign_image(self, image):
        &#34;&#34;&#34;Store image data in `self.values`.

        Parameters
        ----------
        image : str
            string representing image id
        &#34;&#34;&#34;
        self.values[ttk.Combobox.get(self)][&#39;Cover&#39;] = image

    def do_on_select(self, *_):
        &#34;&#34;&#34;Fill form with values from selected record.&#34;&#34;&#34;
        for key in self.variables.keys():
            try:
                self.variables[key].set(
                    self.values[ttk.Combobox.get(self)][key])
            except KeyError:  # pragma: no cover
                pass

    def get(self):
        &#34;&#34;&#34;Return record id string when selected or None and display error.&#34;&#34;&#34;
        try:
            return self.values[ttk.Combobox.get(self)][&#39;_id&#39;]
        except KeyError:
            msg.showerror(&#39;Error&#39;, &#39;No record selected. To perform operation &#39;
                                   &#39;please select record first.&#39;)

    def get_image(self):
        &#34;&#34;&#34;Return image id when it exists else None.&#34;&#34;&#34;
        try:
            return self.values[ttk.Combobox.get(self)][&#39;Cover&#39;]
        except KeyError:
            return None

    def clear(self):
        &#34;&#34;&#34;Clear positions from searchbox.&#34;&#34;&#34;
        self.values.clear()
        self.set(&#39;&#39;)
        self[&#39;values&#39;] = []</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>tkinter.ttk.Combobox</li>
<li>tkinter.ttk.Entry</li>
<li>tkinter.ttk.Widget</li>
<li>tkinter.Entry</li>
<li>tkinter.Widget</li>
<li>tkinter.BaseWidget</li>
<li>tkinter.Misc</li>
<li>tkinter.Pack</li>
<li>tkinter.Place</li>
<li>tkinter.Grid</li>
<li>tkinter.XView</li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="bookmeister.gui.Searchbox.assign_image"><code class="name flex">
<span>def <span class="ident">assign_image</span></span>(<span>self, image)</span>
</code></dt>
<dd>
<section class="desc"><p>Store image data in <code>self.values</code>.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>image</code></strong> :&ensp;<code>str</code></dt>
<dd>string representing image id</dd>
</dl></section>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/ethru/bookmeister/blob/a68bce5e5f41236525e9065b8c76a0e68186f1f9/bookmeister/gui.py#L220-L228" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def assign_image(self, image):
    &#34;&#34;&#34;Store image data in `self.values`.

    Parameters
    ----------
    image : str
        string representing image id
    &#34;&#34;&#34;
    self.values[ttk.Combobox.get(self)][&#39;Cover&#39;] = image</code></pre>
</details>
</dd>
<dt id="bookmeister.gui.Searchbox.assign_values"><code class="name flex">
<span>def <span class="ident">assign_values</span></span>(<span>self, values)</span>
</code></dt>
<dd>
<section class="desc"><p>Fill searchbox with values.</p>
<p>Clear previously loaded elements. For each record in passed values
create text which is placed in searchbox. Store it as key in
<code>self.values</code> dictionary with corresponding it record values
(dictionary). Then pick first record and fill form with its values.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>values</code></strong> :&ensp;<code>list</code></dt>
<dd>list with database records, their data stored in dictionaries</dd>
</dl></section>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/ethru/bookmeister/blob/a68bce5e5f41236525e9065b8c76a0e68186f1f9/bookmeister/gui.py#L195-L218" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def assign_values(self, values):
    &#34;&#34;&#34;Fill searchbox with values.

    Clear previously loaded elements. For each record in passed values
    create text which is placed in searchbox. Store it as key in
    `self.values` dictionary with corresponding it record values
    (dictionary). Then pick first record and fill form with its values.

    Parameters
    ----------
    values : list
        list with database records, their data stored in dictionaries
    &#34;&#34;&#34;
    self.clear()
    try:
        for data in values:
            title = f&#39;{data[&#34;ISBN&#34;]} &#34;{data[&#34;Title&#34;]}&#34; by {data[&#34;Author&#34;]}&#39;
            self.values[title] = data
        self[&#39;values&#39;] = sorted(list(self.values.keys()))
        self.current(0)
        self.do_on_select()
    except (TypeError, tk.TclError):
        msg.showwarning(&#39;No records&#39;,
                        &#39;Could not find any results to set criteria.&#39;)</code></pre>
</details>
</dd>
<dt id="bookmeister.gui.Searchbox.clear"><code class="name flex">
<span>def <span class="ident">clear</span></span>(<span>self)</span>
</code></dt>
<dd>
<section class="desc"><p>Clear positions from searchbox.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/ethru/bookmeister/blob/a68bce5e5f41236525e9065b8c76a0e68186f1f9/bookmeister/gui.py#L254-L258" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def clear(self):
    &#34;&#34;&#34;Clear positions from searchbox.&#34;&#34;&#34;
    self.values.clear()
    self.set(&#39;&#39;)
    self[&#39;values&#39;] = []</code></pre>
</details>
</dd>
<dt id="bookmeister.gui.Searchbox.do_on_select"><code class="name flex">
<span>def <span class="ident">do_on_select</span></span>(<span>self, *_)</span>
</code></dt>
<dd>
<section class="desc"><p>Fill form with values from selected record.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/ethru/bookmeister/blob/a68bce5e5f41236525e9065b8c76a0e68186f1f9/bookmeister/gui.py#L230-L237" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def do_on_select(self, *_):
    &#34;&#34;&#34;Fill form with values from selected record.&#34;&#34;&#34;
    for key in self.variables.keys():
        try:
            self.variables[key].set(
                self.values[ttk.Combobox.get(self)][key])
        except KeyError:  # pragma: no cover
            pass</code></pre>
</details>
</dd>
<dt id="bookmeister.gui.Searchbox.get"><code class="name flex">
<span>def <span class="ident">get</span></span>(<span>self)</span>
</code></dt>
<dd>
<section class="desc"><p>Return record id string when selected or None and display error.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/ethru/bookmeister/blob/a68bce5e5f41236525e9065b8c76a0e68186f1f9/bookmeister/gui.py#L239-L245" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def get(self):
    &#34;&#34;&#34;Return record id string when selected or None and display error.&#34;&#34;&#34;
    try:
        return self.values[ttk.Combobox.get(self)][&#39;_id&#39;]
    except KeyError:
        msg.showerror(&#39;Error&#39;, &#39;No record selected. To perform operation &#39;
                               &#39;please select record first.&#39;)</code></pre>
</details>
</dd>
<dt id="bookmeister.gui.Searchbox.get_image"><code class="name flex">
<span>def <span class="ident">get_image</span></span>(<span>self)</span>
</code></dt>
<dd>
<section class="desc"><p>Return image id when it exists else None.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/ethru/bookmeister/blob/a68bce5e5f41236525e9065b8c76a0e68186f1f9/bookmeister/gui.py#L247-L252" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def get_image(self):
    &#34;&#34;&#34;Return image id when it exists else None.&#34;&#34;&#34;
    try:
        return self.values[ttk.Combobox.get(self)][&#39;Cover&#39;]
    except KeyError:
        return None</code></pre>
</details>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<header><img src="https://raw.githubusercontent.com/ethru/bookmeister/master/bookmeister/bookmeister.png" alt=""></header>
<h1>Index</h1>
<div class="toc">
<ul>
<li><a href="#gui">GUI</a></li>
<li><a href="#license">License</a></li>
</ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="bookmeister" href="index.html">bookmeister</a></code></li>
</ul>
</li>
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="">
<li><code><a title="bookmeister.gui.create_label" href="#bookmeister.gui.create_label">create_label</a></code></li>
<li><code><a title="bookmeister.gui.show_no_connection" href="#bookmeister.gui.show_no_connection">show_no_connection</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="bookmeister.gui.Buttons" href="#bookmeister.gui.Buttons">Buttons</a></code></h4>
<ul class="two-column">
<li><code><a title="bookmeister.gui.Buttons.add" href="#bookmeister.gui.Buttons.add">add</a></code></li>
<li><code><a title="bookmeister.gui.Buttons.delete" href="#bookmeister.gui.Buttons.delete">delete</a></code></li>
<li><code><a title="bookmeister.gui.Buttons.exist_check" href="#bookmeister.gui.Buttons.exist_check">exist_check</a></code></li>
<li><code><a title="bookmeister.gui.Buttons.process_data" href="#bookmeister.gui.Buttons.process_data">process_data</a></code></li>
<li><code><a title="bookmeister.gui.Buttons.revise" href="#bookmeister.gui.Buttons.revise">revise</a></code></li>
<li><code><a title="bookmeister.gui.Buttons.search" href="#bookmeister.gui.Buttons.search">search</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="bookmeister.gui.Form" href="#bookmeister.gui.Form">Form</a></code></h4>
<ul class="">
<li><code><a title="bookmeister.gui.Form.clear" href="#bookmeister.gui.Form.clear">clear</a></code></li>
<li><code><a title="bookmeister.gui.Form.create_checkbutton" href="#bookmeister.gui.Form.create_checkbutton">create_checkbutton</a></code></li>
<li><code><a title="bookmeister.gui.Form.create_entry" href="#bookmeister.gui.Form.create_entry">create_entry</a></code></li>
<li><code><a title="bookmeister.gui.Form.get" href="#bookmeister.gui.Form.get">get</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="bookmeister.gui.Gui" href="#bookmeister.gui.Gui">Gui</a></code></h4>
<ul class="">
<li><code><a title="bookmeister.gui.Gui.get_icon" href="#bookmeister.gui.Gui.get_icon">get_icon</a></code></li>
<li><code><a title="bookmeister.gui.Gui.show_error" href="#bookmeister.gui.Gui.show_error">show_error</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="bookmeister.gui.Image" href="#bookmeister.gui.Image">Image</a></code></h4>
<ul class="">
<li><code><a title="bookmeister.gui.Image.add_image" href="#bookmeister.gui.Image.add_image">add_image</a></code></li>
<li><code><a title="bookmeister.gui.Image.open_image" href="#bookmeister.gui.Image.open_image">open_image</a></code></li>
<li><code><a title="bookmeister.gui.Image.verify" href="#bookmeister.gui.Image.verify">verify</a></code></li>
<li><code><a title="bookmeister.gui.Image.view_image" href="#bookmeister.gui.Image.view_image">view_image</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="bookmeister.gui.Search" href="#bookmeister.gui.Search">Search</a></code></h4>
</li>
<li>
<h4><code><a title="bookmeister.gui.Searchbox" href="#bookmeister.gui.Searchbox">Searchbox</a></code></h4>
<ul class="two-column">
<li><code><a title="bookmeister.gui.Searchbox.assign_image" href="#bookmeister.gui.Searchbox.assign_image">assign_image</a></code></li>
<li><code><a title="bookmeister.gui.Searchbox.assign_values" href="#bookmeister.gui.Searchbox.assign_values">assign_values</a></code></li>
<li><code><a title="bookmeister.gui.Searchbox.clear" href="#bookmeister.gui.Searchbox.clear">clear</a></code></li>
<li><code><a title="bookmeister.gui.Searchbox.do_on_select" href="#bookmeister.gui.Searchbox.do_on_select">do_on_select</a></code></li>
<li><code><a title="bookmeister.gui.Searchbox.get" href="#bookmeister.gui.Searchbox.get">get</a></code></li>
<li><code><a title="bookmeister.gui.Searchbox.get_image" href="#bookmeister.gui.Searchbox.get_image">get_image</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc"><cite>pdoc</cite> 0.8.1</a>.</p>
</footer>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad()</script>
</body>
</html>

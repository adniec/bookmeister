<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.8.1" />
<title>bookmeister.record API documentation</title>
<meta name="description" content="Record â€¦" />
<link href='https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.0/normalize.min.css' rel='stylesheet'>
<link href='https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/8.0.0/sanitize.min.css' rel='stylesheet'>
<link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" rel="stylesheet">
<style>.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{font-weight:bold}#index h4 + ul{margin-bottom:.6em}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>bookmeister.record</code></h1>
</header>
<section id="section-intro">
<h4 id="record">Record</h4>
<p>Module collecting functions necessary to validate data from application form.
Each of them raises <code>ValueError</code> when set value is not correct. Values are
supposed to be stored in class <code><a title="bookmeister.record.Record" href="#bookmeister.record.Record">Record</a></code> which extends dictionary and maps
proper validation function with expected database key. All database fields are
added to <code>FIELDS</code>. <code>datetime</code> module is used to acquire current year during
validation.</p>
<h4 id="license">License</h4>
<p>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.</p>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/ethru/bookmeister/blob/a68bce5e5f41236525e9065b8c76a0e68186f1f9/bookmeister/record.py#L0-L186" class="git-link">Browse git</a>
</summary>
<pre><code class="python">&#34;&#34;&#34;#### Record

Module collecting functions necessary to validate data from application form.
Each of them raises `ValueError` when set value is not correct. Values are
supposed to be stored in class `Record` which extends dictionary and maps
proper validation function with expected database key. All database fields are
added to `FIELDS`. `datetime` module is used to acquire current year during
validation.


#### License
THE SOFTWARE IS PROVIDED &#34;AS IS&#34;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
&#34;&#34;&#34;

from datetime import datetime

FIELDS = (&#39;Title&#39;, &#39;Author&#39;, &#39;Type&#39;, &#39;Publisher&#39;, &#39;ISBN&#39;, &#39;Release&#39;,
          &#39;Language&#39;, &#39;Pages&#39;, &#39;Quantity&#39;, &#39;Price&#39;, &#39;Discount&#39;)


def check_length(text, minimum=1, maximum=100):
    &#34;&#34;&#34;Check if length of passed text is between set values.

    Parameters
    ----------
    text : str
        string to check if its length is in set range
    minimum : int, optional
        minimum value for text length, default is 1
    maximum : int, optional
        maximum value for text length, default is 100

    Raises
    ------
    ValueError
        when text length is not in range
    &#34;&#34;&#34;
    if not minimum &lt;= len(text) &lt;= maximum:
        raise ValueError(f&#39;Text length must be {minimum} to {maximum} &#39;
                         &#39;characters.&#39;)


def check_number(value, minimum=0, maximum=9999):
    &#34;&#34;&#34;Check if passed string is integer between set values.

    Parameters
    ----------
    value : str
        string to check if it is integer in set range
    minimum : int, optional
        minimum value for accepted number, default is 0
    maximum : int, optional
        maximum value for accepted number, default is 9999

    Raises
    ------
    ValueError
        when value cannot be converted to `int` or is not in range
    &#34;&#34;&#34;
    try:
        number = int(value)
    except ValueError:
        raise ValueError(&#39;It must be integer.&#39;)

    if not minimum &lt;= number &lt;= maximum:
        raise ValueError(f&#39;Number must be in range {minimum} to {maximum}.&#39;)


def check_isbn(number):
    &#34;&#34;&#34;Check if ISBN-13 number is correct.

    Check if passed value is digit and its length is equal to 13. Then run
    calculations to compare result with checksum. If conditions are not met
    raise ValueError.

    Parameters
    ----------
    number : str
        string to check if it is correct ISBN-13 number

    Raises
    ------
    ValueError
        when value for ISBN-13 is not correct
    &#34;&#34;&#34;
    if number.isdigit() and len(number) == 13:
        n = [int(char) for char in number]
        control = (10 - ((n[0] + n[2] + n[4] + n[6] + n[8] + n[10] + 3 * (
                n[1] + n[3] + n[5] + n[7] + n[9] + n[11])) % 10)) % 10
        if n[12] == control:
            return
    raise ValueError(&#39;Number must be valid ISBN-13 code.&#39;)


def check_lang_code(code):
    &#34;&#34;&#34;Check if language code has two letters.

    Parameters
    ----------
    code : str
        string to check if it is correct language code

    Raises
    ------
    ValueError
        when value for language code is not correct
    &#34;&#34;&#34;
    if not code.isalpha() or not len(code) == 2:
        raise ValueError(&#39;Language code must be two characters. &#39;
                         &#39;Check ISO 639-1 for more details.&#39;)


def check_price(value):
    &#34;&#34;&#34;Check if passed string is price.

    Parameters
    ----------
    value : str
        string to check if it is int or float number with proper precision

    Raises
    ------
    ValueError
        when value contains letters or has too many digits after dot
    &#34;&#34;&#34;
    price = value.split(&#39;.&#39;)
    try:
        if len(price) &gt; 2:
            raise ValueError
        check_number(price[0])
        check_number(price[1], 0, 99)
    except IndexError:
        pass
    except ValueError:
        raise ValueError(&#39;Price must be a number with maximum two digits after&#39;
                         &#39; dot, e.g. &#34;125.75&#34;.&#39;)


class Record(dict):
    &#34;&#34;&#34;
    Create customized dictionary.

    It validates new elements if their keys are stored in `FIELDS`. Method
    `check` binds proper function needed for validation. It extends `dict`.
    &#34;&#34;&#34;

    def __setitem__(self, key, value):
        &#34;&#34;&#34;Extend `__setitem__` method by value check for `FIELDS` elements.&#34;&#34;&#34;
        if key in FIELDS and isinstance(value, str):
            self.check(key, value)
        super(Record, self).__setitem__(key, value)

    @staticmethod
    def check(key, value):
        &#34;&#34;&#34;Map functions which check field value with expected key.&#34;&#34;&#34;
        if key in (&#39;Title&#39;, &#39;Author&#39;, &#39;Type&#39;, &#39;Publisher&#39;):
            check_length(value)
        elif key in (&#39;Release&#39;, &#39;Pages&#39;, &#39;Quantity&#39;, &#39;Discount&#39;):
            args = []
            if key == &#39;Release&#39;:
                args.extend((1800, datetime.now().year + 1))
            if key == &#39;Discount&#39;:
                args.extend((0, 99))
            check_number(value, *args)
        else:
            {&#39;ISBN&#39;: check_isbn,
             &#39;Language&#39;: check_lang_code,
             &#39;Price&#39;: check_price}[key](value)

    def cast(self):
        &#34;&#34;&#34;Cast `Record` values to type expected in database.&#34;&#34;&#34;
        try:
            self[&#39;Price&#39;] = float(self[&#39;Price&#39;])
        except (KeyError, ValueError):
            pass

        for field in (&#39;ISBN&#39;, &#39;Release&#39;, &#39;Pages&#39;, &#39;Quantity&#39;, &#39;Discount&#39;):
            try:
                self[field] = int(self[field])
            except (KeyError, ValueError):
                pass</code></pre>
</details>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="bookmeister.record.check_isbn"><code class="name flex">
<span>def <span class="ident">check_isbn</span></span>(<span>number)</span>
</code></dt>
<dd>
<section class="desc"><p>Check if ISBN-13 number is correct.</p>
<p>Check if passed value is digit and its length is equal to 13. Then run
calculations to compare result with checksum. If conditions are not met
raise ValueError.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>number</code></strong> :&ensp;<code>str</code></dt>
<dd>string to check if it is correct ISBN-13 number</dd>
</dl>
<h2 id="raises">Raises</h2>
<dl>
<dt><code>ValueError</code></dt>
<dd>when value for ISBN-13 is not correct</dd>
</dl></section>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/ethru/bookmeister/blob/a68bce5e5f41236525e9065b8c76a0e68186f1f9/bookmeister/record.py#L75-L98" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def check_isbn(number):
    &#34;&#34;&#34;Check if ISBN-13 number is correct.

    Check if passed value is digit and its length is equal to 13. Then run
    calculations to compare result with checksum. If conditions are not met
    raise ValueError.

    Parameters
    ----------
    number : str
        string to check if it is correct ISBN-13 number

    Raises
    ------
    ValueError
        when value for ISBN-13 is not correct
    &#34;&#34;&#34;
    if number.isdigit() and len(number) == 13:
        n = [int(char) for char in number]
        control = (10 - ((n[0] + n[2] + n[4] + n[6] + n[8] + n[10] + 3 * (
                n[1] + n[3] + n[5] + n[7] + n[9] + n[11])) % 10)) % 10
        if n[12] == control:
            return
    raise ValueError(&#39;Number must be valid ISBN-13 code.&#39;)</code></pre>
</details>
</dd>
<dt id="bookmeister.record.check_lang_code"><code class="name flex">
<span>def <span class="ident">check_lang_code</span></span>(<span>code)</span>
</code></dt>
<dd>
<section class="desc"><p>Check if language code has two letters.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>code</code></strong> :&ensp;<code>str</code></dt>
<dd>string to check if it is correct language code</dd>
</dl>
<h2 id="raises">Raises</h2>
<dl>
<dt><code>ValueError</code></dt>
<dd>when value for language code is not correct</dd>
</dl></section>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/ethru/bookmeister/blob/a68bce5e5f41236525e9065b8c76a0e68186f1f9/bookmeister/record.py#L101-L116" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def check_lang_code(code):
    &#34;&#34;&#34;Check if language code has two letters.

    Parameters
    ----------
    code : str
        string to check if it is correct language code

    Raises
    ------
    ValueError
        when value for language code is not correct
    &#34;&#34;&#34;
    if not code.isalpha() or not len(code) == 2:
        raise ValueError(&#39;Language code must be two characters. &#39;
                         &#39;Check ISO 639-1 for more details.&#39;)</code></pre>
</details>
</dd>
<dt id="bookmeister.record.check_length"><code class="name flex">
<span>def <span class="ident">check_length</span></span>(<span>text, minimum=1, maximum=100)</span>
</code></dt>
<dd>
<section class="desc"><p>Check if length of passed text is between set values.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>text</code></strong> :&ensp;<code>str</code></dt>
<dd>string to check if its length is in set range</dd>
<dt><strong><code>minimum</code></strong> :&ensp;<code>int</code>, optional</dt>
<dd>minimum value for text length, default is 1</dd>
<dt><strong><code>maximum</code></strong> :&ensp;<code>int</code>, optional</dt>
<dd>maximum value for text length, default is 100</dd>
</dl>
<h2 id="raises">Raises</h2>
<dl>
<dt><code>ValueError</code></dt>
<dd>when text length is not in range</dd>
</dl></section>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/ethru/bookmeister/blob/a68bce5e5f41236525e9065b8c76a0e68186f1f9/bookmeister/record.py#L27-L46" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def check_length(text, minimum=1, maximum=100):
    &#34;&#34;&#34;Check if length of passed text is between set values.

    Parameters
    ----------
    text : str
        string to check if its length is in set range
    minimum : int, optional
        minimum value for text length, default is 1
    maximum : int, optional
        maximum value for text length, default is 100

    Raises
    ------
    ValueError
        when text length is not in range
    &#34;&#34;&#34;
    if not minimum &lt;= len(text) &lt;= maximum:
        raise ValueError(f&#39;Text length must be {minimum} to {maximum} &#39;
                         &#39;characters.&#39;)</code></pre>
</details>
</dd>
<dt id="bookmeister.record.check_number"><code class="name flex">
<span>def <span class="ident">check_number</span></span>(<span>value, minimum=0, maximum=9999)</span>
</code></dt>
<dd>
<section class="desc"><p>Check if passed string is integer between set values.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>value</code></strong> :&ensp;<code>str</code></dt>
<dd>string to check if it is integer in set range</dd>
<dt><strong><code>minimum</code></strong> :&ensp;<code>int</code>, optional</dt>
<dd>minimum value for accepted number, default is 0</dd>
<dt><strong><code>maximum</code></strong> :&ensp;<code>int</code>, optional</dt>
<dd>maximum value for accepted number, default is 9999</dd>
</dl>
<h2 id="raises">Raises</h2>
<dl>
<dt><code>ValueError</code></dt>
<dd>when value cannot be converted to <code>int</code> or is not in range</dd>
</dl></section>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/ethru/bookmeister/blob/a68bce5e5f41236525e9065b8c76a0e68186f1f9/bookmeister/record.py#L49-L72" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def check_number(value, minimum=0, maximum=9999):
    &#34;&#34;&#34;Check if passed string is integer between set values.

    Parameters
    ----------
    value : str
        string to check if it is integer in set range
    minimum : int, optional
        minimum value for accepted number, default is 0
    maximum : int, optional
        maximum value for accepted number, default is 9999

    Raises
    ------
    ValueError
        when value cannot be converted to `int` or is not in range
    &#34;&#34;&#34;
    try:
        number = int(value)
    except ValueError:
        raise ValueError(&#39;It must be integer.&#39;)

    if not minimum &lt;= number &lt;= maximum:
        raise ValueError(f&#39;Number must be in range {minimum} to {maximum}.&#39;)</code></pre>
</details>
</dd>
<dt id="bookmeister.record.check_price"><code class="name flex">
<span>def <span class="ident">check_price</span></span>(<span>value)</span>
</code></dt>
<dd>
<section class="desc"><p>Check if passed string is price.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>value</code></strong> :&ensp;<code>str</code></dt>
<dd>string to check if it is int or float number with proper precision</dd>
</dl>
<h2 id="raises">Raises</h2>
<dl>
<dt><code>ValueError</code></dt>
<dd>when value contains letters or has too many digits after dot</dd>
</dl></section>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/ethru/bookmeister/blob/a68bce5e5f41236525e9065b8c76a0e68186f1f9/bookmeister/record.py#L119-L142" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def check_price(value):
    &#34;&#34;&#34;Check if passed string is price.

    Parameters
    ----------
    value : str
        string to check if it is int or float number with proper precision

    Raises
    ------
    ValueError
        when value contains letters or has too many digits after dot
    &#34;&#34;&#34;
    price = value.split(&#39;.&#39;)
    try:
        if len(price) &gt; 2:
            raise ValueError
        check_number(price[0])
        check_number(price[1], 0, 99)
    except IndexError:
        pass
    except ValueError:
        raise ValueError(&#39;Price must be a number with maximum two digits after&#39;
                         &#39; dot, e.g. &#34;125.75&#34;.&#39;)</code></pre>
</details>
</dd>
</dl>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="bookmeister.record.Record"><code class="flex name class">
<span>class <span class="ident">Record</span></span>
<span>(</span><span>...)</span>
</code></dt>
<dd>
<section class="desc"><p>Create customized dictionary.</p>
<p>It validates new elements if their keys are stored in <code>FIELDS</code>. Method
<code>check</code> binds proper function needed for validation. It extends <code>dict</code>.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/ethru/bookmeister/blob/a68bce5e5f41236525e9065b8c76a0e68186f1f9/bookmeister/record.py#L145-L187" class="git-link">Browse git</a>
</summary>
<pre><code class="python">class Record(dict):
    &#34;&#34;&#34;
    Create customized dictionary.

    It validates new elements if their keys are stored in `FIELDS`. Method
    `check` binds proper function needed for validation. It extends `dict`.
    &#34;&#34;&#34;

    def __setitem__(self, key, value):
        &#34;&#34;&#34;Extend `__setitem__` method by value check for `FIELDS` elements.&#34;&#34;&#34;
        if key in FIELDS and isinstance(value, str):
            self.check(key, value)
        super(Record, self).__setitem__(key, value)

    @staticmethod
    def check(key, value):
        &#34;&#34;&#34;Map functions which check field value with expected key.&#34;&#34;&#34;
        if key in (&#39;Title&#39;, &#39;Author&#39;, &#39;Type&#39;, &#39;Publisher&#39;):
            check_length(value)
        elif key in (&#39;Release&#39;, &#39;Pages&#39;, &#39;Quantity&#39;, &#39;Discount&#39;):
            args = []
            if key == &#39;Release&#39;:
                args.extend((1800, datetime.now().year + 1))
            if key == &#39;Discount&#39;:
                args.extend((0, 99))
            check_number(value, *args)
        else:
            {&#39;ISBN&#39;: check_isbn,
             &#39;Language&#39;: check_lang_code,
             &#39;Price&#39;: check_price}[key](value)

    def cast(self):
        &#34;&#34;&#34;Cast `Record` values to type expected in database.&#34;&#34;&#34;
        try:
            self[&#39;Price&#39;] = float(self[&#39;Price&#39;])
        except (KeyError, ValueError):
            pass

        for field in (&#39;ISBN&#39;, &#39;Release&#39;, &#39;Pages&#39;, &#39;Quantity&#39;, &#39;Discount&#39;):
            try:
                self[field] = int(self[field])
            except (KeyError, ValueError):
                pass</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>builtins.dict</li>
</ul>
<h3>Static methods</h3>
<dl>
<dt id="bookmeister.record.Record.check"><code class="name flex">
<span>def <span class="ident">check</span></span>(<span>key, value)</span>
</code></dt>
<dd>
<section class="desc"><p>Map functions which check field value with expected key.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/ethru/bookmeister/blob/a68bce5e5f41236525e9065b8c76a0e68186f1f9/bookmeister/record.py#L159-L174" class="git-link">Browse git</a>
</summary>
<pre><code class="python">@staticmethod
def check(key, value):
    &#34;&#34;&#34;Map functions which check field value with expected key.&#34;&#34;&#34;
    if key in (&#39;Title&#39;, &#39;Author&#39;, &#39;Type&#39;, &#39;Publisher&#39;):
        check_length(value)
    elif key in (&#39;Release&#39;, &#39;Pages&#39;, &#39;Quantity&#39;, &#39;Discount&#39;):
        args = []
        if key == &#39;Release&#39;:
            args.extend((1800, datetime.now().year + 1))
        if key == &#39;Discount&#39;:
            args.extend((0, 99))
        check_number(value, *args)
    else:
        {&#39;ISBN&#39;: check_isbn,
         &#39;Language&#39;: check_lang_code,
         &#39;Price&#39;: check_price}[key](value)</code></pre>
</details>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="bookmeister.record.Record.cast"><code class="name flex">
<span>def <span class="ident">cast</span></span>(<span>self)</span>
</code></dt>
<dd>
<section class="desc"><p>Cast <code><a title="bookmeister.record.Record" href="#bookmeister.record.Record">Record</a></code> values to type expected in database.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/ethru/bookmeister/blob/a68bce5e5f41236525e9065b8c76a0e68186f1f9/bookmeister/record.py#L176-L187" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def cast(self):
    &#34;&#34;&#34;Cast `Record` values to type expected in database.&#34;&#34;&#34;
    try:
        self[&#39;Price&#39;] = float(self[&#39;Price&#39;])
    except (KeyError, ValueError):
        pass

    for field in (&#39;ISBN&#39;, &#39;Release&#39;, &#39;Pages&#39;, &#39;Quantity&#39;, &#39;Discount&#39;):
        try:
            self[field] = int(self[field])
        except (KeyError, ValueError):
            pass</code></pre>
</details>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<header><img src="https://raw.githubusercontent.com/ethru/bookmeister/master/bookmeister/bookmeister.png" alt=""></header>
<h1>Index</h1>
<div class="toc">
<ul>
<li><a href="#record">Record</a></li>
<li><a href="#license">License</a></li>
</ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="bookmeister" href="index.html">bookmeister</a></code></li>
</ul>
</li>
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="">
<li><code><a title="bookmeister.record.check_isbn" href="#bookmeister.record.check_isbn">check_isbn</a></code></li>
<li><code><a title="bookmeister.record.check_lang_code" href="#bookmeister.record.check_lang_code">check_lang_code</a></code></li>
<li><code><a title="bookmeister.record.check_length" href="#bookmeister.record.check_length">check_length</a></code></li>
<li><code><a title="bookmeister.record.check_number" href="#bookmeister.record.check_number">check_number</a></code></li>
<li><code><a title="bookmeister.record.check_price" href="#bookmeister.record.check_price">check_price</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="bookmeister.record.Record" href="#bookmeister.record.Record">Record</a></code></h4>
<ul class="">
<li><code><a title="bookmeister.record.Record.cast" href="#bookmeister.record.Record.cast">cast</a></code></li>
<li><code><a title="bookmeister.record.Record.check" href="#bookmeister.record.Record.check">check</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc"><cite>pdoc</cite> 0.8.1</a>.</p>
</footer>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad()</script>
</body>
</html>
